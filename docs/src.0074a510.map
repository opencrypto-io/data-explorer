{"version":3,"sources":["index.js"],"names":["hideEmpty","webIds","path","getLengthInBytes","str","b","match","length","githubIssueLink","value","title","encodeURI","dataItem","id","makePath","body","setPath","p","makeFooter","arr","schema","type","format","reduce","out","v","unsetPath","resolveWebId","val","m","href","wd","url","replace","target","processItem","i","_size","JSON","stringify","_progress","Math","random","_logo","_logo_full","n","asset0","assets","images","logo_square","data","logo_full","getType","fn","OCString","OCArray","OCNumber","OCBoolean","OCObject","zeroValue","media","binaryEncoding","src","style","moment","fromNow","slice","items","map","c","concat","values","patternProperties","properties","Object","keys","forEach","k","pdata","cpath","events","onmouseenter","withAttr","onmouseleave","githubLink","Layout","oninit","ocd","query","then","res","view","vnode","children","originalData","sortBy","sortReverse","ProjectList","_","clone","redraw","runSort","reverse","updateSort","searchList","filter","Boolean","name","RegExp","placeholder","oninput","onclick","key","oncreate","route","link","tags","join","max","toFixed","projectSchema","dataView","Project","get","attrs","request","switchSource","console","log","class","trust","hljs","highlight","root","document","getElementById","render"],"mappings":"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","file":"src.0074a510.map","sourceRoot":"../src","sourcesContent":["\nvar hideEmpty = true\nvar webIds = null\nvar path = null\n\nfunction getLengthInBytes(str) {\n  var b = str.match(/[^\\x00-\\xff]/g);\n  return (str.length + (!b ? 0: b.length)); \n}\n\nfunction githubIssueLink (path, value) {\n  const title = encodeURI(`(${dataItem.id}) ${makePath(path)}`)\n  const body = `Current value: \\`${value}\\``\n  return `https://github.com/opencrypto-io/data/issues/new?labels=bug&title=${title}&body=${body}`\n}\n\nfunction setPath (p) {\n  if (!p) {\n    return null\n  }\n  path = p\n}\n\nfunction makeFooter (arr, schema) {\n  return makePath(arr) + ' <'+schema.type+(schema.format? ':' + schema.format : '')+'>'\n}\n\nfunction makePath (arr, schema) {\n  return arr.reduce((out, v) => {\n    if (typeof v === 'number') {\n      return out + '['+v+']'\n    }\n    if (typeof v === 'string' && !v.match(/^[a-zA-Z0-9_]+$/)) {\n      return out + '[\\''+v+'\\']'\n    }\n    return out + '.' + v\n  })\n}\n\nfunction unsetPath () {\n  path = null\n}\n\nfunction resolveWebId(val, type) {\n  if (type.match(/^custom\\//)) {\n    return m('a', { href: val }, val)\n  }\n  const wd = webIds[type]\n  if (!wd) {\n    return '#'\n  }\n  const href = webIds[type].url.replace('@id', val)\n  return m('a', { href, target: '_blank' }, val)\n}\n\nfunction processItem(i) {\n  i._size = getLengthInBytes(JSON.stringify(i))\n  i._progress = Math.random()\n  i._logo = null\n  i._logo_full = null\n  for(let n = 0; n <= 3; n++) {\n    var asset0 = i.assets[n]\n    if (i._logo) continue\n    if (!asset0) continue\n    if (asset0.images && asset0.images.logo_square) {\n      i._logo = asset0.images.logo_square.data\n      i._logo_full = i._logo\n    }\n    if (asset0.images && asset0.images.logo_full) {\n      i._logo_full = asset0.images.logo_full.data\n    }\n  }\n  return i\n}\n\nfunction getType (type) {\n  let fn = null\n  switch (type) {\n    case 'string':\n      fn = OCString\n      break\n    case 'array':\n      fn = OCArray\n      break\n    case 'number':\n      fn = OCNumber\n      break\n    case 'boolean':\n      fn = OCBoolean\n      break\n    case 'object':\n      fn = OCObject\n      break\n  }\n  return fn\n}\n\nfunction zeroValue() {\n  return m('span.grey', '(no value)')\n}\n\nfunction OCBoolean (schema, val) {\n  return val === true ? 'Yes' : (val === false ? 'No' : zeroValue())\n}\n\nfunction OCString (schema, val, path) {\n  if (!val) {\n    return zeroValue()\n  }\n  if (schema.media && schema.media.binaryEncoding == 'base64') {\n    return m('div', [\n      m('img', { src: 'data:image/svg+xml;base64,' + val, style: 'max-height: 100px;' }) \n    ])\n  }\n  let out = val\n  if (schema.format === 'url') {\n    out = m('a', { href: val, target: '_blank' }, val)\n  }\n  else if (schema.format === 'date') {\n    out = `${val} (${moment(val).fromNow()})`\n  }\n  else if (schema.format == 'webid') {\n    out = resolveWebId(val, path.slice(-1)[0])\n  }\n  return m('div', [\n    out,\n    m('.control', m('a', { href: githubIssueLink(path, val) }, m('i.fas.fa-bug')))\n  ])\n}\n\nfunction OCNumber (schema, val) {\n  return val || zeroValue()\n}\n\nfunction OCArray (schema, val, path) {\n  if (!val || val.length === 0) {\n    return zeroValue()\n  }\n  let fn = getType(schema.items.type)\n  return val.map((i, c) => {\n    return fn ? fn(schema.items, i, path.concat([c])) : null\n  })\n}\n\nfunction OCObject(schema, values, path) {\n  if (schema.patternProperties) {\n    if (values) {\n      schema.properties = []\n      Object.keys(values).forEach(k => {\n        schema.properties[k] = { type: 'string', format: schema['opencrypto-validation'] }\n      })\n    } else {\n      return zeroValue()\n    }\n  }\n  if (!schema.properties) {\n    return m('div', 'bad object')\n  }\n  return m('table.table', m('tbody', Object.keys(schema.properties).map(p => {\n    if (hideEmpty && !values[p]) {\n      return null\n    }\n    const pdata = schema.properties[p]\n    let cpath = path.concat([p])\n    let fn = getType(pdata.type)\n    let events = { 'data-path': makeFooter(cpath, pdata), onmouseenter: m.withAttr('data-path', setPath), onmouseleave: m.withAttr('data-path', unsetPath) }\n    return m('tr', events, [\n      m('th', pdata.title || p),\n      m('td', fn ? fn(pdata, values ? values[p] : null, cpath) : 'unknown type: '+pdata.type)\n    ])\n  })))\n}\n\nfunction githubLink(id, type = 'blob') {\n  return `https://github.com/opencrypto-io/data/${type}/master/db/projects/${id}/project.yaml`\n}\n\nconst Layout = {\n  oninit () {\n    ocd.query('webids').then((res) => {\n      webIds = res\n    })\n  },\n  view (vnode) {\n    return m('div', [\n      path ? m('#toolsFooter', path) : '',\n      m('div', { 'style': 'padding-bottom: 5em;' },  [\n        m('nav#navbar.navbar', [\n          m('.container', [\n            m('.navbar-brand', [\n              m('a.navbar-item', { href: 'https://data.opencrypto.io/' }, [\n                m('#logo'),\n                m('#logo-text', [\n                  m('span.thin', 'Open'),\n                  'Crypto',\n                  m('span.green', 'Data'),\n                ])\n              ])\n            ]),\n            m('.navbar-menu', [\n              m('.navbar-start', [\n                m('a.navbar-item', { href: 'https://data.opencrypto.io' }, 'Homepage'), \n                m('a.navbar-item.current', { href: 'https://explorer.opencrypto.io' }, 'Explorer'), \n                m('a.navbar-item', { href: 'https://schema.opencrypto.io' }, 'Schema'), \n              ]),\n              m('.navbar-end', [\n                m('a.navbar-item', { href: '#' }, 'How to contribute?'), \n                m('a.navbar-item', { href: '#' }, 'FAQ'), \n              ])\n            ])\n          ])\n        ]),\n        m('.container', [\n          m('#page', vnode.children)\n        ])\n      ])\n    ])\n  }\n}\n\nvar originalData = null\nvar data = null\nvar sortBy = 'name'\nvar sortReverse = false\n\nconst ProjectList = {\n  oninit () {\n    ocd.query('projects').then(res => {\n      data = res.map(i => {\n        return processItem(i)\n      })\n      originalData = _.clone(data)\n      m.redraw()\n    })\n  },\n  view () {\n    if (data === null) {\n      return m('div', { style: 'padding: 2em;' }, 'Loading ..')\n    }\n\n    function runSort() {\n      data = _.sortBy(data, sortBy)\n      if (sortReverse) {\n        data = data.reverse()\n      }\n    }\n    function updateSort(value) {\n      if (sortBy != value) {\n        sortBy = value\n      } else {\n        sortReverse = !sortReverse\n      }\n      runSort()\n    }\n\n    function searchList(value) {\n      data = _.clone(originalData)\n      if (!value) {\n        return null\n      }\n      data = data.filter((p) => {\n        return Boolean(p.name.match(new RegExp(value, 'gmi')))\n      })\n    }\n\n    runSort()\n\n    return m('div', [\n      m('.navbar.transparent.listNavBar', [\n        m('.navbar-menu', [\n          m('.navbar-start', [\n            m('.navbar-item', [\n              m('h2.title.is-4', 'Projects ('+originalData.length+')'),\n            ]),\n            m('.navbar-item', [\n              m('input.searchInput', { placeholder: 'Search projects ..', oninput: m.withAttr('value', searchList) }),\n            ])\n          ])\n        ])\n      ]),\n      m('#projectList', [\n        m('table.table', [\n          m('thead', [\n            m('tr', [\n              m('th', ''),\n              m('th', m('a', { onclick: m.withAttr('value', updateSort), value: 'name' }, 'Name')),\n              m('th', 'Project tags'),\n              m('th', m('a', { onclick: m.withAttr('value', updateSort), value: '_progress' }, 'Completeness')),\n              m('th', m('a', { onclick: m.withAttr('value', updateSort), value: '_size' }, 'Data size')),\n              m('th', 'GitHub'),\n              m('th', 'Link to Explorer'),\n            ])\n          ]),\n          m('tbody', function () {\n            return data.map(i => {\n              return m('tr', { key: i.id }, [\n                m('td.data-logo', m('div', [\n                  i._logo ? m('img', { src: 'data:image/svg+xml;base64,' + i._logo }) : '',\n                ])),\n                m('td', m('a.projectTitle', { href: '/project/'+i.id, oncreate: m.route.link }, i.name)),\n                m('td', i.tags ? i.tags.join(', ') : ''),\n                m('td', m('div', [\n                  m('progress.progress.is-primary.is-small', { value: i._progress, max: 1 }, `${i._progress}%`) \n                ])),\n                m('td', (i._size/1000).toFixed(2) + ' KB'),\n                m('td', [\n                  m('a', { href: githubLink(i.id) }, 'Source'),\n                  ', ',\n                  m('a', { href: githubLink(i.id, 'edit') }, 'Edit'),\n                ]),\n                m('td', m('a', { href: '/project/'+i.id, oncreate: m.route.link }, 'View →' )),\n              ])\n            })\n          }())\n        ])\n      ])\n    ])\n  }\n}\n\nvar dataItem = null\nvar projectSchema = null\nvar dataView = 'explorer'\n\nconst Project = {\n  oninit (vnode) {\n    ocd.get('project', vnode.attrs.id).then(res => {\n      dataItem = res\n      m.redraw()\n    })\n    if (!projectSchema) {\n      m.request('https://schema.opencrypto.io/build/deref/project.json').then(res => {\n        projectSchema = res\n        m.redraw()\n      })\n    }\n  },\n  view (vnode) {\n    if (!dataItem) {\n      return m('div', { style: 'padding: 2em;' }, 'Loading ..')\n    }\n    const p = processItem(dataItem)\n\n    function switchSource (type) {\n      console.log(type)\n      dataView = type\n    }\n\n    return m('div', [\n      m('h2.title.is-4', [\n        m('a', { href: '/', oncreate: m.route.link }, 'Projects'),\n        ' / ',\n        m('span', p.name)\n      ]),\n      m('#itemDetail', [\n        m('.navbar.transparent', [\n          m('.navbar-menu', [\n            m('.navbar-start', [\n              p._logo_full ? m('.navbar-item', m('.itemLogo', m('img', { src: 'data:image/svg+xml;base64,' + p._logo_full }))) : '',\n              m('.navbar-item', m('h3.title.is-4', p.name))\n            ]),\n            m('.navbar-end', [\n              m('a.navbar-item', { href: githubLink(p.id, 'edit') }, [\n                m('i.fab.fa-github', { style: 'font-size: 1.3em; padding-right: 0.3em;' }),\n                'Edit on GitHub'\n              ]),\n              m('.navbar-item', [\n                m('.buttons.has-addons', [\n                  m('span.button', { class: dataView === 'explorer' ? 'is-success is-selected' : '', onclick: m.withAttr('value', switchSource), value: 'explorer' }, 'Explorer'),\n                  m('span.button', { class: dataView === 'source' ? 'is-success is-selected' : '', onclick: m.withAttr('value', switchSource), value: 'source' }, 'Source'),\n                ])\n              ])\n            ])\n          ])\n        ]),\n        function () {\n          if (dataView === 'source') {\n            const src = JSON.stringify(p, null, 2)\n            return m('#itemSource', [\n              m('pre', m.trust(hljs.highlight('json', src).value))\n            ])\n          }\n          if (projectSchema === null) {\n            return m('div', { style: 'padding: 2em;' }, 'Loading ..')\n          }\n          return m('#dataTable', OCObject(projectSchema, p, []))\n        }()\n      ]),\n    ])\n  }\n}\n\nconst root = document.getElementById('data-explorer')\nm.route(root, '/', {\n  '/': { render: () => m(Layout, m(ProjectList)) },\n  '/project/:id': { render: (vnode) => m(Layout, m(Project, vnode.attrs)) }\n})\n"]}