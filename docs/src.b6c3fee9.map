{"version":3,"sources":["index.js"],"names":["hideEmpty","webIds","path","projectSchema","state","models","wcol","wcolif","wcolmin","ocdx","ocd","Client","dataUrl","schemaUrl","window","location","hostname","getCounts","i","root","types","submods","_","findKey","log","id","ico","out","keys","forEach","t","tc","length","count","push","map","o","m","style","class","alt","title","expandSubschema","val","expanded","indexOf","splice","progressError","msgs","weight","text","undefined","makePath","checkWeightIf","schema","calculateProgress","obj","w","type","ret","test","code","eval","items","arr","k","concat","prog","sum","properties","weights","progress","pd","p","Object","values","getLengthInBytes","str","b","match","githubIssueLink","value","encodeURI","dataItem","body","setPath","makeFooter","format","reduce","v","unsetPath","resolveWebId","href","url","replace","target","processItem","_size","JSON","stringify","pickBy","key","_logo","_logo_full","_counts","_progress","ic","c","ci","images","logo_square","data","logo_full","getType","fn","OCString","OCArray","OCNumber","OCBoolean","OCObject","zeroValue","cpath","media","binaryEncoding","src","moment","fromNow","slice","blockchain","lnk","platform","wrapper","patternProperties","$id","res","schemas","ledgers","assets","exchanges","clients","networks","markets","subschemaId","content","pid","oncreate","route","link","name","toFixed","max","onclick","withAttr","pdata","events","onmouseenter","onmouseleave","githubLink","Layout","all","query","request","then","redraw","vnode","children","originalData","projectData","sortBy","sortReverse","listModel","listModelAttr","modelData","defaultList","loadListData","model","find","collection","attrs","error","clone","ProjectList","runSort","reverse","updateSort","plural","placeholder","toLowerCase","oninput","searchList","filter","Boolean","RegExp","mid","detailLink","pi","split","par","dataView","dataObject","detailId","loadItem","subid","join","get","Project","switchSource","trust","hljs","highlight","schemapath","jmespath","search","document","getElementById","render"],"mappings":"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","file":"src.b6c3fee9.map","sourceRoot":"../src","sourcesContent":["\nvar hideEmpty = true\nvar webIds = null\nvar path = null\nvar projectSchema = null\nvar state = {\n  expanded: []\n}\n\nconst models = {\n  project: {\n    id: 'project',\n    title: 'Project',\n    plural: 'Projects',\n    collection: 'projects',\n    root: null,\n    path: 'projects',\n    schemapath: null\n  },\n  ledger: {\n    id: 'ledger',\n    title: 'Ledger',\n    plural: 'Ledgers',\n    collection: 'ledgers',\n    root: 'project',\n    path: 'projects[].ledgers[]',\n    schemapath: 'properties.ledgers.items'\n  },\n  network: {\n    id: 'network',\n    title: 'Network',\n    plural: 'Networks',\n    collection: 'networks',\n    root: 'asset',\n    path: 'projects[].ledgers[].networks[]',\n    schemapath: 'properties.ledgers.items.properties.networks.items'\n  },\n  asset: {\n    id: 'asset',\n    title: 'Asset',\n    plural: 'Assets',\n    collection: 'assets',\n    root: 'project',\n    path: 'projects[].assets[]',\n    schemapath: 'properties.assets.items'\n  },\n  client: {\n    id: 'client',\n    title: 'Client',\n    plural: 'Clients',\n    collection: 'clients',\n    root: 'project',\n    path: 'projects[].clients[]',\n    schemapath: 'properties.clients.items'\n  },\n  exchange: {\n    id: 'exchange',\n    title: 'Exchange',\n    plural: 'Exchanges',\n    collection: 'exchanges',\n    root: 'project',\n    path: 'projects[].exchanges[]',\n    schemapath: 'properties.exchanges.items'\n  }\n}\n\nconst wcol = 'opencrypto-weight'\nconst wcolif = 'opencrypto-weight-if'\nconst wcolmin = 'opencrypto-weight-min'\n\nconst ocdx = new ocd.Client({ dataUrl: \n    schemaUrl = window.location.hostname === 'localhost'\n      ? '/data/data.json'\n      : 'https://data.opencrypto.io/data.json'\n })\n\nfunction getCounts(i, root = 'project') {\n  let types = []\n  const submods = _.findKey(models, { root })\n  console.log(root, submods)\n  switch (root) {\n    case 'project':\n      types = [\n        { id: 'ledgers', ico: 'database' },\n        { id: 'assets', ico: 'dollar-sign' },\n        { id: 'exchanges', ico: 'exchange-alt' },\n        { id: 'clients', ico: 'cog' },\n      ]\n      break\n    case 'ledger':\n      types = [\n        { id: 'networks', ico: 'plug' }\n      ]\n  }\n  let out = []\n  Object.keys(types).forEach((t) => {\n    const tc = types[t]\n    if (i[tc.id] && i[tc.id].length > 0) {\n      tc.count = i[tc.id].length\n      out.push(tc)\n    }\n  })\n  return out.map((o) => {\n    return m('div', { style: 'display:inline-block; padding-right: 1em;' }, [\n      m('i.fa', { class: 'fa-'+o.ico, style: 'color: grey', alt: o.id, title: o.id }),\n      m('span', { style: 'padding-left: 0.5em;' }, o.count)\n    ])\n  })\n}\n\nfunction expandSubschema (val) {\n  if (state.expanded.indexOf(val) !== -1) {\n    state.expanded.splice(state.expanded.indexOf(val), 1)\n    console.log('de-expanded: ', val, state.expanded)\n  } else {\n    state.expanded.push(val)\n    console.log('expanded: ', val, state.expanded)\n  }\n}\n\nfunction progressError(msgs, path, weight=1, text=undefined) {\n  msgs.push({\n    text,\n    path: makePath(path),\n    weight\n  })\n  return msgs\n}\n\nfunction checkWeightIf (schema) {\n}\n\nfunction calculateProgress (schema, obj, path=[], msgs=[], root=null) {\n  let w = 1\n  //console.log(schema.title)\n  switch (schema.type) {\n    case 'string':\n    case 'number':\n    case 'boolean':\n      if (schema[wcol]) {\n        if (schema[wcolif]) {\n          //console.log('exception: %s, eval=\"%s\"', makePath(path), schema[wcolif])\n          const ret = function test(code) {\n            return eval(code)\n          }(schema[wcolif])\n          if (!ret) {\n            w = 1\n            break\n          }\n        }\n        w = (obj !== undefined && obj !== null && obj !== '') ? schema[wcol] : 0\n        if (w === 0) {\n          progressError(msgs, path, schema[wcol])\n        }\n      }\n      break\n    case 'array':\n      if (schema[wcol] && schema.items) {\n        //console.log(obj, obj.length, schema[wcolmin])\n        if (((obj && obj.length == 0) || !obj) && schema[wcolmin] == 0) {\n          w = 1\n          break\n        }\n        if (schema[wcolif]) {\n          //console.log('exception: %s, eval=\"%s\"', makePath(path), schema[wcolif])\n          const ret = function test(code) {\n            return eval(code)\n          }(schema[wcolif])\n          if (!ret) {\n            w = 1\n            break\n          }\n        }\n        if (obj) {\n          let arr = obj.map((i, k) => {\n            const [ prog ] = calculateProgress(schema.items, i, path.concat([k]), msgs, root)\n            return prog\n          })\n          w = _.sum(arr) / (arr.length * schema[wcol])\n        } else {\n          progressError(msgs, path, schema[wcol])\n          w = 0\n        }\n      }\n      break\n    case 'object':\n      if (schema.properties) {\n        if (schema[wcol] && schema[wcolif]) {\n          //console.log('exception: %s, eval=\"%s\"', makePath(path), schema[wcolif])\n          const ret = function test(code) {\n            return eval(code)\n          }(schema[wcolif])\n          if (!ret) {\n            w = 1\n            break\n          }\n        }\n        let weights = {}\n        let progress = {}\n        Object.keys(schema.properties).forEach(p => {\n          let pd = schema.properties[p]\n          if (pd[wcol]) {\n            weights[p] = pd[wcol]\n            const [ prog ] = calculateProgress(pd, obj ? obj[p] : null, path.concat([p]), msgs, obj)\n            progress[p] = prog\n          }\n        })\n        if (Object.keys(weights).length > 0) {\n          w = _.sum(Object.values(progress)) / _.sum(Object.values(weights))\n        }\n        if (w === 0) {\n          progressError(msgs, path, schema[wcol])\n        }\n      }\n      break\n  }\n  return [ w, msgs ]\n}\n\nfunction getLengthInBytes(str) {\n  var b = str.match(/[^\\x00-\\xff]/g);\n  return (str.length + (!b ? 0: b.length)); \n}\n\nfunction githubIssueLink (path, value) {\n  const title = encodeURI(`(${dataItem.id}) ${makePath(path)}`)\n  const body = `Current value: \\`${value}\\``\n  return `https://github.com/opencrypto-io/data/issues/new?labels=bug&title=${title}&body=${body}`\n}\n\nfunction setPath (p) {\n  if (!p) {\n    return null\n  }\n  path = p\n}\n\nfunction makeFooter (arr, schema) {\n  return makePath(arr) + ' <'+schema.type+(schema.format? ':' + schema.format : '')+'>'\n}\n\nfunction makePath (arr) {\n  return arr.reduce((out, v) => {\n    if (typeof v === 'number') {\n      return out + '['+v+']'\n    }\n    if (typeof v === 'string' && !v.match(/^[a-zA-Z0-9_]+$/)) {\n      return out + '[\\''+v+'\\']'\n    }\n    return out + '.' + v\n  })\n}\n\nfunction unsetPath () {\n  path = null\n}\n\nfunction resolveWebId(val, type) {\n  if (type.match(/^custom\\//)) {\n    return m('a', { href: val }, val)\n  }\n  const wd = webIds[type]\n  if (!wd) {\n    return '#'\n  }\n  const href = webIds[type].url.replace('@id', val)\n  return m('a', { href, target: '_blank' }, val)\n}\n\nfunction processItem(i, type = 'project') {\n  i._size = getLengthInBytes(JSON.stringify(_.pickBy(i, (value, key) => {\n    return !key.match(/^_/)\n  })))\n  i._logo = null\n  i._logo_full = null\n  const [ progress, msgs ] = calculateProgress(projectSchema, i)\n  //console.log(JSON.stringify(msgs, null, 2))\n  i._counts = getCounts(i, type)\n  i._progress = progress\n  const baseCols = [ '@', 'assets', 'exchanges', 'clients', 'apps', 'blockchains' ]\n  baseCols.forEach(c => {\n    if (i._logo) return null\n    let ic = i[c] \n    if (c === '@') {\n      ic = [i]\n    }\n    if (ic && ic.length > 0) {\n      ic.forEach(ci => {\n        if (i._logo || !ci.images) return null\n        if (ci.images.logo_square) {\n          i._logo = ci.images.logo_square.data\n        }\n        if (ci.images.logo_full) {\n          i._logo_full = ci.images.logo_full.data\n          if (!i._logo) {\n            i._logo = i._logo_full\n          }\n        } else if (ci.images.logo_square) {\n          i._logo_full = ci.images.logo_square.data\n        }\n      })\n    }\n  })\n  /*for(let n = 0; n <= 3; n++) {\n    var asset0 = i.assets[n]\n    if (!asset0) continue\n    if (asset0.images && asset0.images.logo_square) {\n      i._logo = asset0.images.logo_square.data\n      i._logo_full = i._logo\n    }\n    if (asset0.images && asset0.images.logo_full) {\n      i._logo_full = asset0.images.logo_full.data\n    }\n  }*/\n  return i\n}\n\nfunction getType (type) {\n  let fn = null\n  switch (type) {\n    case 'string':\n      fn = OCString\n      break\n    case 'array':\n      fn = OCArray\n      break\n    case 'number':\n      fn = OCNumber\n      break\n    case 'boolean':\n      fn = OCBoolean\n      break\n    case 'object':\n      fn = OCObject\n      break\n  }\n  return fn\n}\n\nfunction zeroValue() {\n  return m('span.grey', '(no value)')\n}\n\nfunction OCBoolean (schema, val) {\n  return val === true ? 'Yes' : (val === false ? 'No' : zeroValue())\n}\n\nfunction OCString (schema, val, path, root) {\n  if (val === undefined || val === null) {\n    return zeroValue()\n  }\n  let cpath = path[path.length-1]\n  if (schema.media && schema.media.binaryEncoding == 'base64') {\n    return m('div', [\n      m('img', { src: 'data:image/svg+xml;base64,' + val, style: 'max-height: 100px;' }) \n    ])\n  }\n  let out = val\n  if (schema.format === 'url') {\n    out = m('a', { href: val, target: '_blank' }, val)\n  }\n  else if (schema.format === 'date') {\n    out = `${val} (${moment(val).fromNow()})`\n  }\n  else if (schema.format == 'webid') {\n    out = resolveWebId(val, path.slice(-1)[0])\n  }\n  if (cpath === 'contract_address') {\n    if (root.blockchain === 'ethereum') {\n      out = m('a', { href: `https://etherscan.io/address/${val}`, target: '_blank' }, val)\n    }\n  }\n  else if (cpath === 'market_id') {\n    let lnk = null\n    switch (root.platform) {\n      case 'ios':\n        lnk = `http://itunes.apple.com/gb/app/${val}`\n        break\n      case 'android':\n        lnk = `https://play.google.com/store/apps/details?id=${val}`\n        break\n    }\n    if (lnk) {\n      out = m('a', { href: lnk, target: '_blank' }, val)\n    }\n  }\n  return m('div', [\n    out,\n    m('.control', m('a', { href: githubIssueLink(path, val) }, m('i.fas.fa-bug')))\n  ])\n}\n\nfunction OCNumber (schema, val) {\n  return val || zeroValue()\n}\n\nfunction OCArray (schema, val, path, root) {\n  if (!val || val.length === 0) {\n    return zeroValue()\n  }\n  let fn = getType(schema.items.type)\n  return val.map((i, c) => {\n    return fn ? fn(schema.items, i, path.concat([c]), root) : null\n  })\n}\n\nfunction OCObject(schema, values, path, root=null) {\n  let wrapper = (out) => out\n  if (schema.patternProperties) {\n    if (values) {\n      schema.properties = []\n      Object.keys(values).forEach(k => {\n        schema.properties[k] = { type: 'string', format: schema['opencrypto-validation'] }\n      })\n    } else {\n      return zeroValue()\n    }\n  }\n  if (!schema.properties) {\n    return m('div', 'bad object')\n  }\n  if (schema.$id && path.length > 0) {\n    wrapper = (res) => {\n      const match = schema.$id.match(/\\/models\\/([^#]+)#?$/)\n      //console.log(state.expanded, `@@${match[1]}:${values.id}@@`)\n      if (!match) {\n        return res\n      }\n      const schemas = {\n        ledger: projectSchema.properties.ledgers.items,\n        asset: projectSchema.properties.assets.items,\n        exchange: projectSchema.properties.exchanges.items,\n        client: projectSchema.properties.clients.items,\n        network: projectSchema.properties.ledgers.items.properties.networks.items,\n        market: projectSchema.properties.exchanges.items.properties.markets.items,\n      }\n      const subschemaId = match[1]\n      const expanded = state.expanded.indexOf(`${match[1]}:${values.id}`) !== -1\n      if (!schemas[subschemaId]) {\n        console.log('not exists: %s', subschemaId)\n      }\n      const [ progress, msgs ] = calculateProgress(schemas[subschemaId], values)\n\n      const content = m('.box.subitem', [\n        m('nav.level', [\n          m('.level-left', [\n            m('.level-item', m('a', { href: `/${subschemaId}/${values.pid || values.id}`, oncreate: m.route.link }, m('b', values.name))),\n            m('.level-item', `[${values.id}]`),\n          ]),\n          m('.level-right', [\n            m('.level-item', [\n              getCounts(values, subschemaId),\n            ]),\n            m('.level-item', { style: 'color: black; width: 10em;' }, [\n              m('span', { style: 'padding-right: 1em; font-size: 0.9em;' }, (progress*100).toFixed(0) + '%'),\n              m('progress.progress.is-primary.is-small', { value: progress, max: 1 }, `${progress}%`) \n            ]),\n            m('.level-item', m('a', { onclick: m.withAttr('value', expandSubschema), value: `${subschemaId}:${values.id}` }, expanded ? 'Collapse' : 'Expand'))\n          ])\n        ]),\n        expanded ? m('div', res) : null\n      ])\n      return content\n    }\n  }\n  return wrapper(m('table.table', m('tbody', Object.keys(schema.properties).map(p => {\n    if (hideEmpty && (values[p] === undefined || values[p] === null)) {\n      return null\n    }\n    const pdata = schema.properties[p]\n    let cpath = path.concat([p])\n    let fn = getType(pdata.type)\n    let events = { 'data-path': makeFooter(cpath, pdata), onmouseenter: m.withAttr('data-path', setPath), onmouseleave: m.withAttr('data-path', unsetPath) }\n    return m('tr', events, [\n      m('th', pdata.title || p),\n      m('td', fn ? fn(pdata, values ? values[p] : null, cpath, values) : 'unknown type: '+pdata.type)\n    ])\n  }))))\n}\n\nfunction githubLink(id, type = 'blob') {\n  return `https://github.com/opencrypto-io/data/${type}/master/db/projects/${id}/project.yaml`\n}\n\nconst Layout = {\n  oninit () {\n    const schemaUrl = window.location.hostname === 'localhost' \n      ? 'http://localhost:1234/schema/deref/project.json'\n      : 'https://schema.opencrypto.io/build/deref/project.json'\n    Promise.all([\n      ocdx.query('webids'),\n      m.request(schemaUrl)\n    ]).then(out => {\n      webIds = out[0]\n      projectSchema = out[1]\n      m.redraw()\n    })\n  },\n  view (vnode) {\n    return m('div', [\n      path ? m('#toolsFooter', path) : '',\n      m('div', { 'style': 'padding-bottom: 5em;' },  [\n        m('nav#navbar.navbar', [\n          m('.container', [\n            m('.navbar-brand', [\n              m('a.navbar-item', { href: 'https://data.opencrypto.io/' }, [\n                m('#logo'),\n                m('#logo-text', [\n                  m('span.thin', 'Open'),\n                  'Crypto',\n                  m('span.green', 'Data'),\n                ])\n              ])\n            ]),\n            m('.navbar-menu', [\n              m('.navbar-start', [\n                m('a.navbar-item', { href: 'https://data.opencrypto.io' }, 'Homepage'), \n                m('a.navbar-item.current', { href: 'https://explorer.opencrypto.io' }, 'Explorer'), \n                m('a.navbar-item', { href: 'https://schema.opencrypto.io' }, 'Schema'), \n              ]),\n              m('.navbar-end', [\n                m('a.navbar-item', { href: '#' }, 'How to contribute?'), \n                m('a.navbar-item', { href: '#' }, 'FAQ'), \n              ])\n            ])\n          ])\n        ]),\n        m('.container', function() {\n          if (webIds && projectSchema) {\n            return m('#page', vnode.children)\n          }\n          return m('div', { style: 'padding: 2em;' }, 'Loading ..')\n        }())\n      ])\n    ])\n  }\n}\n\nvar originalData = null\nvar projectData = null\nvar data = null\nvar sortBy = 'name'\nvar sortReverse = false\nvar listModel = null\nvar listModelAttr = null\nvar modelData = null\nvar defaultList = 'projects'\n\nfunction loadListData (vnode) {\n  let model = modelData = _.find(models, { collection: vnode.attrs.type || defaultList })\n  if (!modelData) {\n    console.error('no model: %s', model)\n  }\n\n  listModel = model\n  listModelAttr = model.collection\n  ocdx.query(modelData.path).then(res => {\n    console.log(res)\n    data = res.map(i => {\n      return processItem(i, model.id)\n    })\n    originalData = _.clone(data)\n    m.redraw()\n  })\n}\n\nconst ProjectList = {\n  oninit (vnode) {\n    loadListData(vnode)\n    if (projectData === null) {\n      ocdx.query('projects').then((pd) => {\n        projectData = _.clone(pd)\n        m.redraw()\n      })\n    }\n  },\n  onupdate (vnode) {\n    console.log(vnode.attrs)\n    if (listModelAttr !== (vnode.attrs.type || defaultList)) {\n      loadListData(vnode)\n    }\n  },\n  view () {\n    if (data === null || projectData === null) {\n      return m('div', { style: 'padding: 2em;' }, 'Loading ..')\n    }\n\n    function runSort() {\n      data = _.sortBy(data, sortBy)\n      if (sortReverse) {\n        data = data.reverse()\n      }\n    }\n    function updateSort(value) {\n      if (sortBy != value) {\n        sortBy = value\n      } else {\n        sortReverse = !sortReverse\n      }\n      runSort()\n    }\n\n    function searchList(value) {\n      data = _.clone(originalData)\n      if (!value) {\n        return null\n      }\n      data = data.filter((p) => {\n        return Boolean(p.name.match(new RegExp(value, 'gmi')))\n      })\n    }\n\n    runSort()\n\n    return m('div', [\n      m('nav.level.pageNavBar', [\n        m('.level-left', [\n          m('.level-item', [\n            m('h2.title.is-4', `${modelData.plural} (${originalData.length})`),\n          ]),\n          m('.level-item', [\n            m('input.searchInput', { placeholder: `Search ${modelData.plural.toLowerCase()} ..`, oninput: m.withAttr('value', searchList) }),\n          ])\n        ]),\n        m('.level-right', [\n          m('.level-item', m('.buttons.has-addons', Object.keys(models).map((mid) => {\n            const model = models[mid]\n            var classAttr = null\n            if (modelData.id === model.id) {\n              classAttr = 'is-selected is-info'\n            }\n            return m('span.level-item.button', { \n              href: `/${model.collection}`,\n              oncreate: m.route.link,\n              class: (modelData.id === model.id) ? 'is-selected is-warning' : ''\n            }, model.plural)\n          })))\n        ])\n      ]),\n      m('#projectList', [\n        m('table.table', [\n          m('thead', [\n            m('tr', [\n              modelData.id !== 'project' ? m('th', 'Project') : null,\n              m('th', ''),\n              m('th', m('a', { onclick: m.withAttr('value', updateSort), value: 'name' }, 'Name')),\n              m('th', 'Includes'),\n              m('th', m('a', { onclick: m.withAttr('value', updateSort), value: '_progress' }, 'Completeness')),\n              m('th', m('a', { onclick: m.withAttr('value', updateSort), value: '_size' }, 'Data size')),\n              m('th', 'GitHub'),\n              m('th', 'Link to Explorer'),\n            ])\n          ]),\n          m('tbody', function () {\n            return data.map(i => {\n              const detailLink = `/${modelData.id}/${i.pid || i.id}`\n              return m('tr', { key: i.id }, [\n                modelData.id !== 'project' ? \n                  m('td', function () {\n                    if (!i.pid) {\n                      return m('span', 'n/a')\n                    }\n                    const pi = i.pid.split(':')[0]\n                    const par = _.find(projectData, { id: pi })\n                    return m('a', { href: '/project/'+pi, oncreate: m.route.link }, par.name)\n                  }())\n                  : null,\n                m('td.data-logo', m('div', [\n                  i._logo ? m('img', { src: 'data:image/svg+xml;base64,' + i._logo }) : '',\n                ])),\n                m('td', m('a.projectTitle', { href: detailLink, oncreate: m.route.link }, i.name)),\n                m('td', i._counts),\n                m('td', m('div', [\n                  m('progress.progress.is-primary.is-small', { value: i._progress, max: 1 }, `${i._progress}%`) \n                ])),\n                m('td', (i._size/1000).toFixed(2) + ' KB'),\n                m('td', [\n                  m('a', { href: githubLink(i.id) }, 'Source'),\n                  ', ',\n                  m('a', { href: githubLink(i.id, 'edit') }, 'Edit'),\n                ]),\n                m('td', m('a', { href: detailLink, oncreate: m.route.link }, 'View →' )),\n              ])\n            })\n          }())\n        ])\n      ])\n    ])\n  }\n}\n\nvar dataItem = null\nvar dataView = 'explorer'\nvar dataObject = null\nvar detailId = null\n\nfunction loadItem (vnode) {\n  state.expanded = []\n  console.log(vnode.attrs)\n  const type = vnode.attrs.type\n  let id = vnode.attrs.id \n  if (vnode.attrs.subid) {\n    id = [ id, vnode.attrs.subid ].join(':')\n  }\n  ocdx.get(type, id).then(res => {\n    dataItem = processItem(res, type)\n    detailId = [ vnode.attrs.type, vnode.attrs.id, vnode.attrs.subid ].join('-')  \n    m.redraw()\n  })\n}\n\nconst Project = {\n  oninit (vnode) {\n    loadItem(vnode)\n  },\n  onupdate (vnode) {\n    const id = [ vnode.attrs.type, vnode.attrs.id, vnode.attrs.subid ].join('-') \n    if (detailId !== id) {\n      loadItem(vnode)\n    }\n  },\n  view (vnode) {\n    if (!dataItem) {\n      return m('div', { style: 'padding: 2em;' }, 'Loading ..')\n    }\n    function switchSource (type) {\n      dataView = type\n    }\n    const p = dataItem\n    const model = models[vnode.attrs.type]\n\n    return m('div', [\n      m('nav.level.pageNavBar', [\n        m('.level-left', [\n          m('.level-item', [\n            m('h2.title.is-4', [\n              m('a', { href: `/${model.collection}`, oncreate: m.route.link }, model.title),\n              ' / ',\n              m('span', p.name)\n            ])\n          ])\n        ])\n      ]),\n      m('#itemDetail', [\n        m('.level', [\n          m('.level-left', [\n            p._logo_full ? m('.navbar-item', m('.itemLogo', m('img', { src: 'data:image/svg+xml;base64,' + p._logo_full }))) : '',\n            m('.navbar-item', m('h3.title.is-4', p.name))\n          ]),\n          m('.level-right', [\n            m('.level-item', p._counts),\n            m('a.level-item', { href: githubLink(p.id, 'edit') }, [\n              m('i.fab.fa-github', { style: 'font-size: 1.3em; padding-right: 0.3em;' }),\n              'Edit on GitHub'\n            ]),\n            m('.level-item', [\n              m('.buttons.has-addons', [\n                m('span.button', { class: dataView === 'explorer' ? 'is-success is-selected' : '', onclick: m.withAttr('value', switchSource), value: 'explorer' }, 'Explorer'),\n                m('span.button', { class: dataView === 'source' ? 'is-success is-selected' : '', onclick: m.withAttr('value', switchSource), value: 'source' }, 'Source'),\n              ])\n            ])\n          ])\n        ]),\n        function () {\n          if (dataView === 'source') {\n            const src = JSON.stringify(p, null, 2)\n            return m('#itemSource', [\n              m('pre', m.trust(hljs.highlight('json', src).value))\n            ])\n          }\n          if (projectSchema === null) {\n            return m('div', { style: 'padding: 2em;' }, 'Loading ..')\n          }\n          const schema = model.schemapath ? jmespath.search(projectSchema, model.schemapath) : projectSchema\n          dataObject = OCObject(schema, dataItem, [])\n          return m('#dataTable', dataObject)\n        }()\n      ]),\n    ])\n  }\n}\n\nconst root = document.getElementById('data-explorer')\nm.route(root, '/', {\n  '/': { render: () => m(Layout, m(ProjectList)) },\n  '/:type': { render: (vnode) => m(Layout, m(ProjectList, vnode.attrs)) },\n  '/:type/:id': { render: (vnode) => m(Layout, m(Project, vnode.attrs)) }\n})\n"]}